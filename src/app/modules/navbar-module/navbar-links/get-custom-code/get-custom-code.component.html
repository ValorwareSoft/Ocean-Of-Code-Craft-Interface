<div class="main">
  <div class="header">
    <p class="text-center heading">Design Your Custom Code <span class="d-none d-md-inline">&nbsp; - &nbsp;</span> <span
        class="d-md-none"> <br> </span> Let's
      Bring
      Your
      Ideas to Life!</p>
    <p class="text-center sub-heading">
      Design your custom code by inputting your requirements, and receive
      tailored solutions crafted by our team, with updates delivered straight to
      your inbox. <span (click)="toggleDetails()">{{ showDetails ? 'Know less...' : 'Know more...' }}</span>
    </p>
    <div *ngIf="showDetails">
      <p class="side-heading pt-3">Here's how it works:</p>
      <ol class="normal-text">
        <li class="pb-2">
          <span class="header">Input Your Design : </span>
          <span class="text">Tell us about your coding needs and the specific features or
            functionalities you require. Whether it's a customized chart, form, or
            any other component, we're here to bring your ideas to life!</span>
        </li>
        <li class="pb-2">
          <span class="header">Tailored Solutions : </span><span class="text">Our team of experienced developers will
            craft a custom code solution
            based on your input. We'll ensure that your design requirements are
            met and that the code generated aligns perfectly with your
            vision.</span>
        </li>

        <li class="pb-2">
          <span class="header">Stay Updated : </span><span class="text">
            Once your custom code is ready, we'll notify you promptly via email.
            You'll receive a link to access and download your personalized code
            solution directly from our website.</span>
        </li>
      </ol>
    </div>
  </div>
  <div class="body-content ">
    <form [formGroup]="customCodeForm" (ngSubmit)="onSubmit()">
      <div class="row">
        <div class="mb-4">
          <p class="text-center heading">Submit Your Request</p>
        </div>
        <div class="mb-3">
          <label for="requirement" class="form-label">Describe Your Requirement *</label>
          <textarea class="form-control" formControlName="requirement" rows="3"
            placeholder="Describe Your Requirement In Detail Here..."></textarea>
          <div
            *ngIf="customCodeForm.get('requirement')?.invalid && (customCodeForm.get('requirement')?.dirty || customCodeForm.get('requirement')?.touched)"
            class="text-danger">
            <div *ngIf="customCodeForm.get('requirement')?.errors?.['required']">Requirement description is required
            </div>
            <div *ngIf="customCodeForm.get('requirement')?.errors?.['minlength']">Minimum 20 characters required</div>
            <div *ngIf="customCodeForm.get('requirement')?.errors?.['maxlength']">Maximum 1000 characters allowed</div>
          </div>
        </div>
        <div class="mb-3 position-relative">
          <div class="input-wrapper">
            <label for="referenceFile" class="form-label">Upload Image or PDF File for Reference</label>
            <input type="file" class="form-control" formControlName="referenceFile" accept=".jpg, .jpeg, .png, .pdf" 
              (change)="referenceFile($event)" />

            <div *ngIf="fileUploaded" class="remove-icon">
              <i class="bi bi-x" (click)="removeFile()"></i>
            </div>
          </div>
          <div
            *ngIf="customCodeForm.get('referenceFile')?.invalid && (customCodeForm.get('referenceFile')?.dirty || customCodeForm.get('referenceFile')?.touched)"
            class="text-danger">
            <div *ngIf="customCodeForm.get('referenceFile')?.errors?.['invalidFile']">Only JPG, JPEG, PNG, or PDF files
              are allowed</div>
            <div *ngIf="customCodeForm.get('referenceFile')?.errors?.['invalidFileTypeOrSize']">Invalid file type or
              size (only JPG, JPEG, PNG, or PDF files less than 3MB are allowed)</div>
          </div>
        </div>

        <div class="mt-3 d-flex justify-content-end ">
          <button class="btn btn-primary" type="submit" [disabled]="customCodeForm.invalid">Send</button>
        </div>
      </div>
    </form>
  </div>
</div>